<!DOCTYPE html>
{% load static %} 
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>face recognition</title>
    <!-- CSS only -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css"
 rel="stylesheet" integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
<!-- JavaScript Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js" 
integrity="sha384-u1OknCvxWvY5kfmNBILK2hRnQC3Pr17a+RTT6rIHI7NnikvbZlHgTPOOmMi466C8" crossorigin="anonymous"></script>
  
</head>
<body>
    <!--Navigation bar-->
    <nav class="navbar navbar-dark" style="background-color:#702048">
        <div class="container">

            <a href="/" class="navbar-brand">

            <img src="{% static 'logo.png' %}" alt="" width="60" width="40">&nbsp Face Recognition with Nibal</a>
        </div>

    </nav>
    <!--body-->
    <div class="container">
        <br>
        <h3><center>Facial Analysis</center></h3>
        <br>

        <form action="#" method="post" enctype="multipart/form-data">
            {% csrf_token %}
            <div class="input-group">
                 <label for="{{ form.image.id_for_label }}"></label>
                  {{ form.image }}
                  <input type="submit" value="Display Image" class="btn btn-outline-secondary">

            </div>
       
       
        </form>


        {% if upload %}
        <br><br>

        <div class="row">
            <div class="col">

                <img class="img-fluid" src="/media/ml_output/process.jpg" alt="">
            </div>

            <div class="col">
               
    
                <table class="table table-hover">
                    <thead>
               <tr>
                     <td>Face Image</td>
                       {% for c in results.count %}
                     <td>
                        <img class="img-fluid" src="/media/ml_output/roi_{{ c }}.jpg" alt="">
                    </td>    
                       {% endfor %}  
             </tr>
                   </thead>
           <tr>
               <td>Face Detection Score </td>
                {% for detect_score in results.face_detect_score %}
                    <td>{{ detect_score }}</td>    
                {% endfor %}
           </tr>
           <tr>
               <td>Name</td>
               {% for name in results.face_name %}
                   <td>{{ name }}</td>
               {% endfor %}
         </tr>
          <tr> 
                <td>Face Score </td>
                {% for name_score in results.face_name_score %}
                <td>{{ name_score }}</td>
                {% endfor %}
         </tr>
          <tr>
                <td>Emotion</td>
                {% for emotion in results.emotion_name %}
                <td>{{ emotion }}</td>
                {% endfor %}
          </tr>
          <tr>
                <td>Emotion score</td>
                {% for emotion_score in results.emotion_name_score %}
                <td>{{ emotion_score }}</td>
                {% endfor %}
         </tr> 
     </table> 

         
            {% endif %}
            </div>
     </div>
     <br><br>
            <div class="container">
                <footer>
                    <p><img src="{% static 'face22.gif' %}"alt="" width="20%" height="12%"></p>
                    <h3><b>Designed by: Nibal tinawi</b></h3>
                </footer>
            </div>
</body>
</html>